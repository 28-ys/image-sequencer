<!DOCTYPE html>
<html lang="en">
  <head>
    
    <title>ImageBoard</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="dist/imageboard.css" rel="stylesheet">

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="dist/imageboard.js"></script>

  </head>

  <body>

    <div class="header">

      <h1>ImageBoard</h1>

    </div>

    <p style="display:none;" class="spinner"><i class="fa fa-spinner fa-spin"></i></p>

    <div class="panels">

      <div class="panel mod-image-select">
        <div id="drop">Drag image here</div>
        <p class="instructions">Select or drop an image here to begin.</p>
        <span class="file-select" class="upload"><input type="file" /></span>
      </div>

    </div>

    <div class="mod-new-panel">
      <form class="mod-new-panel">
        <p class="instructions">Add a new step</p>
        <select class="select-module form-control">
          <option value="ndvi-red">NDVI with red filter</option>
          <option value="green-channel">Green channel</option>
        </select> 
        <p><button class="btn btn-default add-step">Add step</button></p>
      </form>
    </div>

    <script>

      var imageboard;

      jQuery(document).ready(function($) {

        imageboard = ImageBoard();

//        imageboard.loadImage('examples/grid.png', function() {

//          $('body').append(imageboard.run());

//        });

        imageboard.addStep('ndvi-red');
//        imageboard.addStep('green-channel');

        $('.add-step').click(function(e) {

          e.preventDefault();
          imageboard.addStep($('.select-module').val());
          imageboard.run();

        });

      });

    </script>

  </body>
</html>
